<!-- HTML header for doxygen 1.8.15-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Flutter Engine: flutter::Shell Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="flutter-doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="flutter_logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Flutter Engine
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('classflutter_1_1_shell.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="classflutter_1_1_shell-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">flutter::Shell Class Reference<span class="mlabels"><span class="mlabel">final</span></span></div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="shell_8h_source.html">shell.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for flutter::Shell:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classflutter_1_1_shell.png" usemap="#flutter::Shell_map" alt=""/>
  <map id="flutter::Shell_map" name="flutter::Shell_map">
<area href="classflutter_1_1_platform_view_1_1_delegate.html" title="Used to forward events from the platform view to interested subsystems. This forwarding is done by th..." alt="flutter::PlatformView::Delegate" shape="rect" coords="0,0,192,24"/>
<area href="classflutter_1_1_animator_1_1_delegate.html" alt="flutter::Animator::Delegate" shape="rect" coords="202,0,394,24"/>
<area href="classflutter_1_1_engine_1_1_delegate.html" title="While the engine operates entirely on the UI task runner, it needs the capabilities of the other comp..." alt="flutter::Engine::Delegate" shape="rect" coords="404,0,596,24"/>
<area href="classflutter_1_1_rasterizer_1_1_delegate.html" title="Used to forward events from the rasterizer to interested subsystems. Currently, the shell sets itself..." alt="flutter::Rasterizer::Delegate" shape="rect" coords="606,0,798,24"/>
<area href="classflutter_1_1_service_protocol_1_1_handler.html" alt="flutter::ServiceProtocol::Handler" shape="rect" coords="808,0,1000,24"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:ae59eaf461fdfbe4568cbf2c982d8f9f6"><td class="memTemplParams" colspan="2">template&lt;class T &gt; </td></tr>
<tr class="memitem:ae59eaf461fdfbe4568cbf2c982d8f9f6"><td class="memTemplItemLeft" align="right" valign="top">using&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classflutter_1_1_shell.html#ae59eaf461fdfbe4568cbf2c982d8f9f6">CreateCallback</a> = <a class="el" href="builtin__libraries_8cc.html#a19857d81485b0aff5fca55723d48300e">std::function</a>&lt; std::unique_ptr&lt; T &gt;(<a class="el" href="classflutter_1_1_shell.html">Shell</a> &amp;)&gt;</td></tr>
<tr class="separator:ae59eaf461fdfbe4568cbf2c982d8f9f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_types_classflutter_1_1_service_protocol_1_1_handler"><td colspan="2" onclick="javascript:toggleInherit('pub_types_classflutter_1_1_service_protocol_1_1_handler')"><img src="closed.png" alt="-"/>&#160;Public Types inherited from <a class="el" href="classflutter_1_1_service_protocol_1_1_handler.html">flutter::ServiceProtocol::Handler</a></td></tr>
<tr class="memitem:a7cb4e15f32c1ae011de160706ac77f71 inherit pub_types_classflutter_1_1_service_protocol_1_1_handler"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classflutter_1_1_service_protocol_1_1_handler.html#a7cb4e15f32c1ae011de160706ac77f71">ServiceProtocolMap</a> = std::map&lt; std::string_view, std::string_view &gt;</td></tr>
<tr class="separator:a7cb4e15f32c1ae011de160706ac77f71 inherit pub_types_classflutter_1_1_service_protocol_1_1_handler"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a34dd4b18719cd581b6c6091051016726"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classflutter_1_1_shell.html#a34dd4b18719cd581b6c6091051016726">~Shell</a> ()</td></tr>
<tr class="memdesc:a34dd4b18719cd581b6c6091051016726"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroys the shell. This is a synchronous operation and synchronous barrier blocks are introduced on the various threads to ensure shutdown of all shell sub-components before this method returns.  <a href="classflutter_1_1_shell.html#a34dd4b18719cd581b6c6091051016726">More...</a><br /></td></tr>
<tr class="separator:a34dd4b18719cd581b6c6091051016726"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55412e5c2e8215bee15f969a227613d0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classflutter_1_1_shell.html#a55412e5c2e8215bee15f969a227613d0">RunEngine</a> (<a class="el" href="classflutter_1_1_run_configuration.html">RunConfiguration</a> run_configuration)</td></tr>
<tr class="memdesc:a55412e5c2e8215bee15f969a227613d0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts an isolate for the given <a class="el" href="classflutter_1_1_run_configuration.html" title="Specifies all the configuration required by the runtime library to launch the root isolate....">RunConfiguration</a>.  <a href="classflutter_1_1_shell.html#a55412e5c2e8215bee15f969a227613d0">More...</a><br /></td></tr>
<tr class="separator:a55412e5c2e8215bee15f969a227613d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4917b376566b74966df4c3bbb26f58c5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classflutter_1_1_shell.html#a4917b376566b74966df4c3bbb26f58c5">RunEngine</a> (<a class="el" href="classflutter_1_1_run_configuration.html">RunConfiguration</a> run_configuration, <a class="el" href="builtin__libraries_8cc.html#a19857d81485b0aff5fca55723d48300e">std::function</a>&lt; void(<a class="el" href="classflutter_1_1_engine.html#ac0c442866f6cb745ef8f61e60f9404e6">Engine::RunStatus</a>)&gt; result_callback)</td></tr>
<tr class="memdesc:a4917b376566b74966df4c3bbb26f58c5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts an isolate for the given <a class="el" href="classflutter_1_1_run_configuration.html" title="Specifies all the configuration required by the runtime library to launch the root isolate....">RunConfiguration</a>. The result_callback will be called with the status of the operation.  <a href="classflutter_1_1_shell.html#a4917b376566b74966df4c3bbb26f58c5">More...</a><br /></td></tr>
<tr class="separator:a4917b376566b74966df4c3bbb26f58c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e0f99613e4803a4a37fd4c3bd241de8"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structflutter_1_1_settings.html">Settings</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classflutter_1_1_shell.html#a6e0f99613e4803a4a37fd4c3bd241de8">GetSettings</a> () const</td></tr>
<tr class="separator:a6e0f99613e4803a4a37fd4c3bd241de8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac49eb6ca41c3ca300c9997af85d19396"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classflutter_1_1_task_runners.html">TaskRunners</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classflutter_1_1_shell.html#ac49eb6ca41c3ca300c9997af85d19396">GetTaskRunners</a> () const</td></tr>
<tr class="memdesc:ac49eb6ca41c3ca300c9997af85d19396"><td class="mdescLeft">&#160;</td><td class="mdescRight">If callers wish to interact directly with any shell subcomponents, they must (on the platform thread) obtain a task runner that the component is designed to run on and a weak pointer to that component. They may then post a task to that task runner, do the validity check on that task runner before performing any operation on that component. This accessor allows callers to access the task runners for this shell.  <a href="classflutter_1_1_shell.html#ac49eb6ca41c3ca300c9997af85d19396">More...</a><br /></td></tr>
<tr class="separator:ac49eb6ca41c3ca300c9997af85d19396"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed67697a9676eb7b461e4b567631f872"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfml_1_1_weak_ptr.html">fml::WeakPtr</a>&lt; <a class="el" href="classflutter_1_1_rasterizer.html">Rasterizer</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classflutter_1_1_shell.html#aed67697a9676eb7b461e4b567631f872">GetRasterizer</a> ()</td></tr>
<tr class="memdesc:aed67697a9676eb7b461e4b567631f872"><td class="mdescLeft">&#160;</td><td class="mdescRight">Rasterizers may only be accessed on the GPU task runner.  <a href="classflutter_1_1_shell.html#aed67697a9676eb7b461e4b567631f872">More...</a><br /></td></tr>
<tr class="separator:aed67697a9676eb7b461e4b567631f872"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7bae565dd27e7ebb4341e42052d45ea"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfml_1_1_weak_ptr.html">fml::WeakPtr</a>&lt; <a class="el" href="classflutter_1_1_platform_view.html">PlatformView</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classflutter_1_1_shell.html#af7bae565dd27e7ebb4341e42052d45ea">GetPlatformView</a> ()</td></tr>
<tr class="memdesc:af7bae565dd27e7ebb4341e42052d45ea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Platform views may only be accessed on the platform task runner.  <a href="classflutter_1_1_shell.html#af7bae565dd27e7ebb4341e42052d45ea">More...</a><br /></td></tr>
<tr class="separator:af7bae565dd27e7ebb4341e42052d45ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a717dd40c253d4fd2492cafb854da1402"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classflutter_1_1_shell.html#a717dd40c253d4fd2492cafb854da1402">NotifyLowMemoryWarning</a> () const</td></tr>
<tr class="memdesc:a717dd40c253d4fd2492cafb854da1402"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used by embedders to notify that there is a low memory warning. The shell will attempt to purge caches. Current, only the rasterizer cache is purged.  <a href="classflutter_1_1_shell.html#a717dd40c253d4fd2492cafb854da1402">More...</a><br /></td></tr>
<tr class="separator:a717dd40c253d4fd2492cafb854da1402"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6350f96b265cdda4928db0b5f0ce4d6"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classflutter_1_1_shell.html#ae6350f96b265cdda4928db0b5f0ce4d6">IsSetup</a> () const</td></tr>
<tr class="memdesc:ae6350f96b265cdda4928db0b5f0ce4d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used by embedders to check if all shell subcomponents are initialized. It is the embedder's responsibility to make this call before accessing any other shell method. A shell that is not setup must be discarded and another one created with updated settings.  <a href="classflutter_1_1_shell.html#ae6350f96b265cdda4928db0b5f0ce4d6">More...</a><br /></td></tr>
<tr class="separator:ae6350f96b265cdda4928db0b5f0ce4d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36fae32d8e2b998514ad656decfd599d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structflutter_1_1_rasterizer_1_1_screenshot.html">Rasterizer::Screenshot</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classflutter_1_1_shell.html#a36fae32d8e2b998514ad656decfd599d">Screenshot</a> (<a class="el" href="classflutter_1_1_rasterizer.html#a46d7b0664ac7a4a645ad60e3f84fc285">Rasterizer::ScreenshotType</a> type, bool base64_encode)</td></tr>
<tr class="memdesc:a36fae32d8e2b998514ad656decfd599d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Captures a screenshot and optionally Base64 encodes the data of the last layer tree rendered by the rasterizer in this shell.  <a href="classflutter_1_1_shell.html#a36fae32d8e2b998514ad656decfd599d">More...</a><br /></td></tr>
<tr class="separator:a36fae32d8e2b998514ad656decfd599d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95d130a1a50f9576ecb80e1b97874d5a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfml_1_1_status.html">fml::Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classflutter_1_1_shell.html#a95d130a1a50f9576ecb80e1b97874d5a">WaitForFirstFrame</a> (<a class="el" href="classfml_1_1_time_delta.html">fml::TimeDelta</a> timeout)</td></tr>
<tr class="memdesc:a95d130a1a50f9576ecb80e1b97874d5a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pauses the calling thread until the first frame is presented.  <a href="classflutter_1_1_shell.html#a95d130a1a50f9576ecb80e1b97874d5a">More...</a><br /></td></tr>
<tr class="separator:a95d130a1a50f9576ecb80e1b97874d5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18cf40762dbcf03f3cda5dac8fb155e7"><td class="memItemLeft" align="right" valign="top">std::optional&lt; <a class="el" href="namespaceflutter.html#a0b170dfc677b7df4d42a1144447b00a6">DartErrorCode</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classflutter_1_1_shell.html#a18cf40762dbcf03f3cda5dac8fb155e7">GetUIIsolateLastError</a> () const</td></tr>
<tr class="memdesc:a18cf40762dbcf03f3cda5dac8fb155e7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used by embedders to get the last error from the Dart UI Isolate, if one exists.  <a href="classflutter_1_1_shell.html#a18cf40762dbcf03f3cda5dac8fb155e7">More...</a><br /></td></tr>
<tr class="separator:a18cf40762dbcf03f3cda5dac8fb155e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c5021b4742656c4e7749a52b5b0df11"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classflutter_1_1_shell.html#a2c5021b4742656c4e7749a52b5b0df11">EngineHasLivePorts</a> () const</td></tr>
<tr class="memdesc:a2c5021b4742656c4e7749a52b5b0df11"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used by embedders to check if the <a class="el" href="classflutter_1_1_engine.html">Engine</a> is running and has any live ports remaining. For example, the Flutter tester uses this method to check whether it should continue to wait for a running test or not.  <a href="classflutter_1_1_shell.html#a2c5021b4742656c4e7749a52b5b0df11">More...</a><br /></td></tr>
<tr class="separator:a2c5021b4742656c4e7749a52b5b0df11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classflutter_1_1_platform_view_1_1_delegate"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classflutter_1_1_platform_view_1_1_delegate')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classflutter_1_1_platform_view_1_1_delegate.html">flutter::PlatformView::Delegate</a></td></tr>
<tr class="memitem:a34b0b569a3de07b11300aee3d3cc72b0 inherit pub_methods_classflutter_1_1_platform_view_1_1_delegate"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classflutter_1_1_platform_view_1_1_delegate.html#a34b0b569a3de07b11300aee3d3cc72b0">OnPlatformViewRegisterTexture</a> (std::shared_ptr&lt; <a class="el" href="classflutter_1_1_texture.html">Texture</a> &gt; texture)=0</td></tr>
<tr class="memdesc:a34b0b569a3de07b11300aee3d3cc72b0 inherit pub_methods_classflutter_1_1_platform_view_1_1_delegate"><td class="mdescLeft">&#160;</td><td class="mdescRight">Notifies the delegate that the embedder has specified a texture that it want the rasterizer to composite within the Flutter layer tree. All textures must have a unique identifier. When the rasterizer encounters an external texture within its hierarchy, it gives the embedder a chance to update that texture on the GPU thread before it composites the same on-screen.  <a href="classflutter_1_1_platform_view_1_1_delegate.html#a34b0b569a3de07b11300aee3d3cc72b0">More...</a><br /></td></tr>
<tr class="separator:a34b0b569a3de07b11300aee3d3cc72b0 inherit pub_methods_classflutter_1_1_platform_view_1_1_delegate"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:ad383227ef5dced1921307bd0c94b790f"><td class="memItemLeft" align="right" valign="top">static std::unique_ptr&lt; <a class="el" href="classflutter_1_1_shell.html">Shell</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classflutter_1_1_shell.html#ad383227ef5dced1921307bd0c94b790f">Create</a> (<a class="el" href="classflutter_1_1_task_runners.html">TaskRunners</a> task_runners, <a class="el" href="structflutter_1_1_settings.html">Settings</a> settings, <a class="el" href="classflutter_1_1_shell.html#ae59eaf461fdfbe4568cbf2c982d8f9f6">CreateCallback</a>&lt; <a class="el" href="classflutter_1_1_platform_view.html">PlatformView</a> &gt; on_create_platform_view, <a class="el" href="classflutter_1_1_shell.html#ae59eaf461fdfbe4568cbf2c982d8f9f6">CreateCallback</a>&lt; <a class="el" href="classflutter_1_1_rasterizer.html">Rasterizer</a> &gt; on_create_rasterizer)</td></tr>
<tr class="memdesc:ad383227ef5dced1921307bd0c94b790f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a shell instance using the provided settings. The callbacks to create the various shell subcomponents will be called on the appropriate threads before this method returns. If this is the first instance of a shell in the process, this call also bootstraps the Dart VM.  <a href="classflutter_1_1_shell.html#ad383227ef5dced1921307bd0c94b790f">More...</a><br /></td></tr>
<tr class="separator:ad383227ef5dced1921307bd0c94b790f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abaf9355329bf51f41857a6ad25ff9328"><td class="memItemLeft" align="right" valign="top">static std::unique_ptr&lt; <a class="el" href="classflutter_1_1_shell.html">Shell</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classflutter_1_1_shell.html#abaf9355329bf51f41857a6ad25ff9328">Create</a> (<a class="el" href="classflutter_1_1_task_runners.html">TaskRunners</a> task_runners, <a class="el" href="structflutter_1_1_settings.html">Settings</a> settings, <a class="el" href="classfml_1_1_ref_ptr.html">fml::RefPtr</a>&lt; const <a class="el" href="classflutter_1_1_dart_snapshot.html">DartSnapshot</a> &gt; isolate_snapshot, <a class="el" href="classfml_1_1_ref_ptr.html">fml::RefPtr</a>&lt; const <a class="el" href="classflutter_1_1_dart_snapshot.html">DartSnapshot</a> &gt; shared_snapshot, <a class="el" href="classflutter_1_1_shell.html#ae59eaf461fdfbe4568cbf2c982d8f9f6">CreateCallback</a>&lt; <a class="el" href="classflutter_1_1_platform_view.html">PlatformView</a> &gt; on_create_platform_view, <a class="el" href="classflutter_1_1_shell.html#ae59eaf461fdfbe4568cbf2c982d8f9f6">CreateCallback</a>&lt; <a class="el" href="classflutter_1_1_rasterizer.html">Rasterizer</a> &gt; on_create_rasterizer, <a class="el" href="classflutter_1_1_dart_v_m_ref.html">DartVMRef</a> vm)</td></tr>
<tr class="memdesc:abaf9355329bf51f41857a6ad25ff9328"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a shell instance using the provided settings. The callbacks to create the various shell subcomponents will be called on the appropriate threads before this method returns. Unlike the simpler variant of this factory method, this method allows for the specification of an isolate snapshot that cannot be adequately described in the settings. This call also requires the specification of a running VM instance.  <a href="classflutter_1_1_shell.html#abaf9355329bf51f41857a6ad25ff9328">More...</a><br /></td></tr>
<tr class="separator:abaf9355329bf51f41857a6ad25ff9328"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:a817de7af913085686836036754477d5e"><td class="memItemLeft" align="right" valign="top">class&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classflutter_1_1_shell.html#a817de7af913085686836036754477d5e">testing::ShellTest</a></td></tr>
<tr class="separator:a817de7af913085686836036754477d5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Perhaps the single most important class in the Flutter engine repository. When embedders create a Flutter application, they are referring to the creation of an instance of a shell. Creation and destruction of the shell is synchronous and the embedder only holds a unique pointer to the shell. The shell does not create the threads its primary components run on. Instead, it is the embedder's responsibility to create threads and give the shell task runners for those threads. Due to deterministic destruction of the shell, the embedder can terminate all threads immediately after collecting the shell. The shell must be created and destroyed on the same thread, but, different shells (i.e. a separate instances of a Flutter application) may be run on different threads simultaneously. The task runners themselves do not have to be unique. If all task runner references given to the shell during shell creation point to the same task runner, the Flutter application is effectively single threaded.</p>
<p>The shell is the central nervous system of the Flutter application. None of the shell components are thread safe and must be created, accessed and destroyed on the same thread. To interact with one another, the various components delegate to the shell for communication. Instead of using back pointers to the shell, a delegation pattern is used by all components that want to communicate with one another. Because of this, the shell implements the delegate interface for all these components.</p>
<p>All shell methods accessed by the embedder may only be called on the platform task runner. In case the embedder wants to directly access a shell subcomponent, it is the embedder's responsibility to acquire a weak pointer to that component and post a task to the task runner used by the component to access its methods.</p>
<p>There is no explicit API to bootstrap and shutdown the Dart VM. The first instance of the shell in the process bootstraps the Dart VM and the destruction of the last shell instance destroys the same. Since different shells may be created and destroyed on different threads. VM bootstrap may happen on one thread but its collection on another. This behavior is thread safe. </p>

<p class="definition">Definition at line <a class="el" href="shell_8h_source.html#l00087">87</a> of file <a class="el" href="shell_8h_source.html">shell.h</a>.</p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a id="ae59eaf461fdfbe4568cbf2c982d8f9f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae59eaf461fdfbe4568cbf2c982d8f9f6">&#9670;&nbsp;</a></span>CreateCallback</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classflutter_1_1_shell.html#ae59eaf461fdfbe4568cbf2c982d8f9f6">flutter::Shell::CreateCallback</a> =  <a class="el" href="builtin__libraries_8cc.html#a19857d81485b0aff5fca55723d48300e">std::function</a>&lt;std::unique_ptr&lt;T&gt;(<a class="el" href="classflutter_1_1_shell.html">Shell</a>&amp;)&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="shell_8h_source.html#l00094">94</a> of file <a class="el" href="shell_8h_source.html">shell.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a34dd4b18719cd581b6c6091051016726"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a34dd4b18719cd581b6c6091051016726">&#9670;&nbsp;</a></span>~Shell()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">flutter::Shell::~Shell </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destroys the shell. This is a synchronous operation and synchronous barrier blocks are introduced on the various threads to ensure shutdown of all shell sub-components before this method returns. </p>

<p class="definition">Definition at line <a class="el" href="shell_8cc_source.html#l00311">311</a> of file <a class="el" href="shell_8cc_source.html">shell.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;              {</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;  <a class="code" href="classflutter_1_1_persistent_cache.html#a8a8ad9f5667090fb8b8cd0dd64224c0b">PersistentCache::GetCacheForProcess</a>()-&gt;<a class="code" href="classflutter_1_1_persistent_cache.html#ad274e5b81d73d790919d1cb2559b5903">RemoveWorkerTaskRunner</a>(</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;      task_runners_.<a class="code" href="classflutter_1_1_task_runners.html#a9cd4e585b8178824252ae010c7087f0a">GetIOTaskRunner</a>());</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160; </div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;  vm_-&gt;<a class="code" href="classflutter_1_1_dart_v_m.html#ae3b4e57839e82d373927d54e3164e22a">GetServiceProtocol</a>()-&gt;RemoveHandler(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160; </div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;  <a class="code" href="classfml_1_1_auto_reset_waitable_event.html">fml::AutoResetWaitableEvent</a> ui_latch, gpu_latch, platform_latch, io_latch;</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160; </div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;  <a class="code" href="classfml_1_1_task_runner.html#a44be86caff5e1629674023520860694d">fml::TaskRunner::RunNowOrPostTask</a>(</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;      task_runners_.<a class="code" href="classflutter_1_1_task_runners.html#a8fc61323e1128724eb69c79f96f67554">GetUITaskRunner</a>(),</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;      <a class="code" href="namespacefml.html#a213c50fa09ff5c6442fa871c3fc6a2d8">fml::MakeCopyable</a>([<a class="code" href="flutter__glfw_8cc.html#aa7c201313a13a24d299847c99a8ef0f5">engine</a> = std::move(engine_), &amp;ui_latch]() <span class="keyword">mutable</span> {</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;        <a class="code" href="flutter__glfw_8cc.html#aa7c201313a13a24d299847c99a8ef0f5">engine</a>.reset();</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;        ui_latch.<a class="code" href="classfml_1_1_auto_reset_waitable_event.html#aa24e53a60b4f673204f521a0cfcb42f4">Signal</a>();</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;      }));</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;  ui_latch.<a class="code" href="classfml_1_1_auto_reset_waitable_event.html#a65a07c3fb27163394b67db237dbf928b">Wait</a>();</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160; </div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;  <a class="code" href="classfml_1_1_task_runner.html#a44be86caff5e1629674023520860694d">fml::TaskRunner::RunNowOrPostTask</a>(</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;      task_runners_.<a class="code" href="classflutter_1_1_task_runners.html#a4ab7a4e7df66942a82bbc2f971f47bf8">GetGPUTaskRunner</a>(),</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;      <a class="code" href="namespacefml.html#a213c50fa09ff5c6442fa871c3fc6a2d8">fml::MakeCopyable</a>(</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;          [rasterizer = std::move(rasterizer_), &amp;gpu_latch]() <span class="keyword">mutable</span> {</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;            rasterizer.reset();</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;            gpu_latch.<a class="code" href="classfml_1_1_auto_reset_waitable_event.html#aa24e53a60b4f673204f521a0cfcb42f4">Signal</a>();</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;          }));</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;  gpu_latch.<a class="code" href="classfml_1_1_auto_reset_waitable_event.html#a65a07c3fb27163394b67db237dbf928b">Wait</a>();</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160; </div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;  <a class="code" href="classfml_1_1_task_runner.html#a44be86caff5e1629674023520860694d">fml::TaskRunner::RunNowOrPostTask</a>(</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;      task_runners_.<a class="code" href="classflutter_1_1_task_runners.html#a9cd4e585b8178824252ae010c7087f0a">GetIOTaskRunner</a>(),</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;      <a class="code" href="namespacefml.html#a213c50fa09ff5c6442fa871c3fc6a2d8">fml::MakeCopyable</a>([io_manager = std::move(io_manager_),</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;                         platform_view = platform_view_.get(),</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;                         &amp;io_latch]() <span class="keyword">mutable</span> {</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;        io_manager.reset();</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;        <span class="keywordflow">if</span> (platform_view) {</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;          platform_view-&gt;ReleaseResourceContext();</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;        }</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;        io_latch.<a class="code" href="classfml_1_1_auto_reset_waitable_event.html#aa24e53a60b4f673204f521a0cfcb42f4">Signal</a>();</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;      }));</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160; </div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;  io_latch.<a class="code" href="classfml_1_1_auto_reset_waitable_event.html#a65a07c3fb27163394b67db237dbf928b">Wait</a>();</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160; </div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;  <span class="comment">// The platform view must go last because it may be holding onto platform side</span></div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;  <span class="comment">// counterparts to resources owned by subsystems running on other threads. For</span></div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;  <span class="comment">// example, the NSOpenGLContext on the Mac.</span></div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;  <a class="code" href="classfml_1_1_task_runner.html#a44be86caff5e1629674023520860694d">fml::TaskRunner::RunNowOrPostTask</a>(</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;      task_runners_.<a class="code" href="classflutter_1_1_task_runners.html#aa67cc592c99865a41a9e5a70983be534">GetPlatformTaskRunner</a>(),</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;      <a class="code" href="namespacefml.html#a213c50fa09ff5c6442fa871c3fc6a2d8">fml::MakeCopyable</a>([platform_view = std::move(platform_view_),</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;                         &amp;platform_latch]() <span class="keyword">mutable</span> {</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;        platform_view.reset();</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;        platform_latch.<a class="code" href="classfml_1_1_auto_reset_waitable_event.html#aa24e53a60b4f673204f521a0cfcb42f4">Signal</a>();</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;      }));</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;  platform_latch.<a class="code" href="classfml_1_1_auto_reset_waitable_event.html#a65a07c3fb27163394b67db237dbf928b">Wait</a>();</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="flutter__glfw_8cc_source.html#l00540">engine</a>, <a class="el" href="persistent__cache_8cc_source.html#l00042">flutter::PersistentCache::GetCacheForProcess()</a>, <a class="el" href="task__runners_8cc_source.html#l00042">flutter::TaskRunners::GetGPUTaskRunner()</a>, <a class="el" href="task__runners_8cc_source.html#l00038">flutter::TaskRunners::GetIOTaskRunner()</a>, <a class="el" href="task__runners_8cc_source.html#l00030">flutter::TaskRunners::GetPlatformTaskRunner()</a>, <a class="el" href="dart__vm_8cc_source.html#l00478">flutter::DartVM::GetServiceProtocol()</a>, <a class="el" href="task__runners_8cc_source.html#l00034">flutter::TaskRunners::GetUITaskRunner()</a>, <a class="el" href="make__copyable_8h_source.html#l00057">fml::MakeCopyable()</a>, <a class="el" href="persistent__cache_8cc_source.html#l00200">flutter::PersistentCache::RemoveWorkerTaskRunner()</a>, <a class="el" href="task__runner_8cc_source.html#l00064">fml::TaskRunner::RunNowOrPostTask()</a>, <a class="el" href="waitable__event_8cc_source.html#l00057">fml::AutoResetWaitableEvent::Signal()</a>, and <a class="el" href="waitable__event_8cc_source.html#l00068">fml::AutoResetWaitableEvent::Wait()</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ad383227ef5dced1921307bd0c94b790f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad383227ef5dced1921307bd0c94b790f">&#9670;&nbsp;</a></span>Create() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt; <a class="el" href="classflutter_1_1_shell.html">Shell</a> &gt; flutter::Shell::Create </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classflutter_1_1_task_runners.html">TaskRunners</a>&#160;</td>
          <td class="paramname"><em>task_runners</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structflutter_1_1_settings.html">Settings</a>&#160;</td>
          <td class="paramname"><em>settings</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classflutter_1_1_shell.html#ae59eaf461fdfbe4568cbf2c982d8f9f6">Shell::CreateCallback</a>&lt; <a class="el" href="classflutter_1_1_platform_view.html">PlatformView</a> &gt;&#160;</td>
          <td class="paramname"><em>on_create_platform_view</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classflutter_1_1_shell.html#ae59eaf461fdfbe4568cbf2c982d8f9f6">Shell::CreateCallback</a>&lt; <a class="el" href="classflutter_1_1_rasterizer.html">Rasterizer</a> &gt;&#160;</td>
          <td class="paramname"><em>on_create_rasterizer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates a shell instance using the provided settings. The callbacks to create the various shell subcomponents will be called on the appropriate threads before this method returns. If this is the first instance of a shell in the process, this call also bootstraps the Dart VM. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">task_runners</td><td>The task runners </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">settings</td><td>The settings </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">on_create_platform_view</td><td>The callback that must return a platform view. This will be called on the platform task runner before this method returns. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">on_create_rasterizer</td><td>That callback that must provide a valid rasterizer. This will be called on the render task runner before this method returns.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A full initialized shell if the settings and callbacks are valid. The root isolate has been created but not yet launched. It may be launched by obtaining the engine weak pointer and posting a task onto the UI task runner with a valid run configuration to run the isolate. The embedder must always check the validity of the shell (using the IsSetup call) immediately after getting a pointer to it. </dd></dl>

<p class="definition">Definition at line <a class="el" href="shell_8cc_source.html#l00202">202</a> of file <a class="el" href="shell_8cc_source.html">shell.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;                                                          {</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;  <a class="code" href="namespaceflutter.html#ad85ef2a4acc093008514f2215d947f14">PerformInitializationTasks</a>(settings);</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160; </div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;  <a class="code" href="trace__event_8h.html#a3feabb76c0ac2918798bc11ab55c6a79">TRACE_EVENT0</a>(<span class="stringliteral">&quot;flutter&quot;</span>, <span class="stringliteral">&quot;Shell::Create&quot;</span>);</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160; </div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;  <span class="keyword">auto</span> vm = <a class="code" href="classflutter_1_1_dart_v_m_ref.html#a28b0d8ae26fb5a64de6ce7cbe4725d15">DartVMRef::Create</a>(settings);</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;  <a class="code" href="fml_2logging_8h.html#aa12716eba45f97fb40adaeba177ba8bd">FML_CHECK</a>(vm) &lt;&lt; <span class="stringliteral">&quot;Must be able to initialize the VM.&quot;</span>;</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160; </div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;  <span class="keyword">auto</span> vm_data = vm-&gt;GetVMData();</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160; </div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classflutter_1_1_shell.html#ad383227ef5dced1921307bd0c94b790f">Shell::Create</a>(std::move(task_runners),             <span class="comment">//</span></div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;                       std::move(settings),                 <span class="comment">//</span></div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;                       vm_data-&gt;GetIsolateSnapshot(),       <span class="comment">// isolate snapshot</span></div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;                       <a class="code" href="classflutter_1_1_dart_snapshot.html#a1640c241a1b503134fe95176d24b88f2">DartSnapshot::Empty</a>(),               <span class="comment">// shared snapshot</span></div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;                       std::move(on_create_platform_view),  <span class="comment">//</span></div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;                       std::move(on_create_rasterizer),     <span class="comment">//</span></div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;                       std::move(vm)                        <span class="comment">//</span></div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;  );</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="dart__vm__lifecycle_8cc_source.html#l00047">flutter::DartVMRef::Create()</a>, <a class="el" href="dart__snapshot_8cc_source.html#l00183">flutter::DartSnapshot::Empty()</a>, <a class="el" href="fml_2logging_8h_source.html#l00066">FML_CHECK</a>, <a class="el" href="shell_8cc_source.html#l00165">flutter::PerformInitializationTasks()</a>, and <a class="el" href="trace__event_8h_source.html#l00065">TRACE_EVENT0</a>.</p>

<p class="reference">Referenced by <a class="el" href="android__shell__holder_8cc_source.html#l00024">flutter::AndroidShellHolder::AndroidShellHolder()</a>, <a class="el" href="shell__test_8cc_source.html#l00177">flutter::testing::ShellTest::CreateShell()</a>, <a class="el" href="platform_2fuchsia_2flutter_2engine_8cc_source.html#l00042">flutter_runner::Engine::Engine()</a>, <a class="el" href="tester__main_8cc_source.html#l00074">flutter::RunTester()</a>, <a class="el" href="shell__benchmarks_8cc_source.html#l00014">flutter::StartupAndShutdownShell()</a>, and <a class="el" href="shell__unittests_8cc_source.html#l00109">flutter::testing::TEST_F()</a>.</p>

</div>
</div>
<a id="abaf9355329bf51f41857a6ad25ff9328"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abaf9355329bf51f41857a6ad25ff9328">&#9670;&nbsp;</a></span>Create() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt; <a class="el" href="classflutter_1_1_shell.html">Shell</a> &gt; flutter::Shell::Create </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classflutter_1_1_task_runners.html">TaskRunners</a>&#160;</td>
          <td class="paramname"><em>task_runners</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structflutter_1_1_settings.html">Settings</a>&#160;</td>
          <td class="paramname"><em>settings</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classfml_1_1_ref_ptr.html">fml::RefPtr</a>&lt; const <a class="el" href="classflutter_1_1_dart_snapshot.html">DartSnapshot</a> &gt;&#160;</td>
          <td class="paramname"><em>isolate_snapshot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classfml_1_1_ref_ptr.html">fml::RefPtr</a>&lt; const <a class="el" href="classflutter_1_1_dart_snapshot.html">DartSnapshot</a> &gt;&#160;</td>
          <td class="paramname"><em>shared_snapshot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classflutter_1_1_shell.html#ae59eaf461fdfbe4568cbf2c982d8f9f6">Shell::CreateCallback</a>&lt; <a class="el" href="classflutter_1_1_platform_view.html">PlatformView</a> &gt;&#160;</td>
          <td class="paramname"><em>on_create_platform_view</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classflutter_1_1_shell.html#ae59eaf461fdfbe4568cbf2c982d8f9f6">Shell::CreateCallback</a>&lt; <a class="el" href="classflutter_1_1_rasterizer.html">Rasterizer</a> &gt;&#160;</td>
          <td class="paramname"><em>on_create_rasterizer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classflutter_1_1_dart_v_m_ref.html">DartVMRef</a>&#160;</td>
          <td class="paramname"><em>vm</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates a shell instance using the provided settings. The callbacks to create the various shell subcomponents will be called on the appropriate threads before this method returns. Unlike the simpler variant of this factory method, this method allows for the specification of an isolate snapshot that cannot be adequately described in the settings. This call also requires the specification of a running VM instance. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">task_runners</td><td>The task runners </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">settings</td><td>The settings </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">isolate_snapshot</td><td>A custom isolate snapshot. Takes precedence over any snapshots specified in the settings. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">shared_snapshot</td><td>A custom shared snapshot. Takes precedence over any snapshots specified in the settings. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">on_create_platform_view</td><td>The callback that must return a platform view. This will be called on the platform task runner before this method returns. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">on_create_rasterizer</td><td>That callback that must provide a valid rasterizer. This will be called on the render task runner before this method returns. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">vm</td><td>A running VM instance.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A full initialized shell if the settings and callbacks are valid. The root isolate has been created but not yet launched. It may be launched by obtaining the engine weak pointer and posting a task onto the UI task runner with a valid run configuration to run the isolate. The embedder must always check the validity of the shell (using the IsSetup call) immediately after getting a pointer to it. </dd></dl>

<p class="definition">Definition at line <a class="el" href="shell_8cc_source.html#l00226">226</a> of file <a class="el" href="shell_8cc_source.html">shell.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;                  {</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;  <a class="code" href="namespaceflutter.html#ad85ef2a4acc093008514f2215d947f14">PerformInitializationTasks</a>(settings);</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160; </div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;  <a class="code" href="trace__event_8h.html#a3feabb76c0ac2918798bc11ab55c6a79">TRACE_EVENT0</a>(<span class="stringliteral">&quot;flutter&quot;</span>, <span class="stringliteral">&quot;Shell::CreateWithSnapshots&quot;</span>);</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160; </div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;  <span class="keywordflow">if</span> (!task_runners.IsValid() || !on_create_platform_view ||</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;      !on_create_rasterizer) {</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;  }</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160; </div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;  <a class="code" href="classfml_1_1_auto_reset_waitable_event.html">fml::AutoResetWaitableEvent</a> latch;</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;  std::unique_ptr&lt;Shell&gt; shell;</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;  <a class="code" href="classfml_1_1_task_runner.html#a44be86caff5e1629674023520860694d">fml::TaskRunner::RunNowOrPostTask</a>(</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;      task_runners.GetPlatformTaskRunner(),</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;      <a class="code" href="namespacefml.html#a213c50fa09ff5c6442fa871c3fc6a2d8">fml::MakeCopyable</a>([&amp;latch,                                          <span class="comment">//</span></div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;                         vm = std::move(vm),                              <span class="comment">//</span></div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;                         &amp;shell,                                          <span class="comment">//</span></div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;                         task_runners = std::move(task_runners),          <span class="comment">//</span></div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;                         settings,                                        <span class="comment">//</span></div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;                         isolate_snapshot = std::move(isolate_snapshot),  <span class="comment">//</span></div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;                         shared_snapshot = std::move(shared_snapshot),    <span class="comment">//</span></div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;                         on_create_platform_view,                         <span class="comment">//</span></div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;                         on_create_rasterizer                             <span class="comment">//</span></div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;  ]() <span class="keyword">mutable</span> {</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;        shell = CreateShellOnPlatformThread(std::move(vm),</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;                                            std::move(task_runners),      <span class="comment">//</span></div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;                                            settings,                     <span class="comment">//</span></div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;                                            std::move(isolate_snapshot),  <span class="comment">//</span></div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;                                            std::move(shared_snapshot),   <span class="comment">//</span></div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;                                            on_create_platform_view,      <span class="comment">//</span></div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;                                            on_create_rasterizer          <span class="comment">//</span></div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;        );</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;        latch.<a class="code" href="classfml_1_1_auto_reset_waitable_event.html#aa24e53a60b4f673204f521a0cfcb42f4">Signal</a>();</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;      }));</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;  latch.<a class="code" href="classfml_1_1_auto_reset_waitable_event.html#a65a07c3fb27163394b67db237dbf928b">Wait</a>();</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;  <span class="keywordflow">return</span> shell;</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="task__runners_8cc_source.html#l00030">flutter::TaskRunners::GetPlatformTaskRunner()</a>, <a class="el" href="task__runners_8cc_source.html#l00046">flutter::TaskRunners::IsValid()</a>, <a class="el" href="make__copyable_8h_source.html#l00057">fml::MakeCopyable()</a>, <a class="el" href="shell_8cc_source.html#l00165">flutter::PerformInitializationTasks()</a>, <a class="el" href="task__runner_8cc_source.html#l00064">fml::TaskRunner::RunNowOrPostTask()</a>, <a class="el" href="waitable__event_8cc_source.html#l00057">fml::AutoResetWaitableEvent::Signal()</a>, <a class="el" href="trace__event_8h_source.html#l00065">TRACE_EVENT0</a>, and <a class="el" href="waitable__event_8cc_source.html#l00068">fml::AutoResetWaitableEvent::Wait()</a>.</p>

</div>
</div>
<a id="a2c5021b4742656c4e7749a52b5b0df11"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c5021b4742656c4e7749a52b5b0df11">&#9670;&nbsp;</a></span>EngineHasLivePorts()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool flutter::Shell::EngineHasLivePorts </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Used by embedders to check if the <a class="el" href="classflutter_1_1_engine.html">Engine</a> is running and has any live ports remaining. For example, the Flutter tester uses this method to check whether it should continue to wait for a running test or not. </p>
<dl class="section return"><dt>Returns</dt><dd>Returns if the shell has an engine and the engine has any live Dart ports. </dd></dl>

<p class="definition">Definition at line <a class="el" href="shell_8cc_source.html#l00435">435</a> of file <a class="el" href="shell_8cc_source.html">shell.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;                                     {</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;  <a class="code" href="fml_2logging_8h.html#ad58edd71667fe83cb259639a7520f5d6">FML_DCHECK</a>(is_setup_);</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;  <a class="code" href="fml_2logging_8h.html#ad58edd71667fe83cb259639a7520f5d6">FML_DCHECK</a>(task_runners_.<a class="code" href="classflutter_1_1_task_runners.html#aa67cc592c99865a41a9e5a70983be534">GetPlatformTaskRunner</a>()-&gt;<a class="code" href="classfml_1_1_task_runner.html#ac960ea15af1de58a634a588ded78ab38">RunsTasksOnCurrentThread</a>());</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160; </div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;  <span class="comment">// We&#39;re using the unique_ptr here because we&#39;re sure we&#39;re on the Platform</span></div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;  <span class="comment">// Thread and callers expect this to be synchronous.</span></div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;  <span class="keywordflow">if</span> (!engine_) {</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;  }</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;  <span class="keywordflow">return</span> engine_-&gt;UIIsolateHasLivePorts();</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="fml_2logging_8h_source.html#l00084">FML_DCHECK</a>, <a class="el" href="task__runners_8cc_source.html#l00030">flutter::TaskRunners::GetPlatformTaskRunner()</a>, and <a class="el" href="task__runner_8cc_source.html#l00041">fml::TaskRunner::RunsTasksOnCurrentThread()</a>.</p>

<p class="reference">Referenced by <a class="el" href="tester__main_8cc_source.html#l00042">flutter::ScriptCompletionTaskObserver::DidProcessTask()</a>.</p>

</div>
</div>
<a id="af7bae565dd27e7ebb4341e42052d45ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af7bae565dd27e7ebb4341e42052d45ea">&#9670;&nbsp;</a></span>GetPlatformView()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfml_1_1_weak_ptr.html">fml::WeakPtr</a>&lt; <a class="el" href="classflutter_1_1_platform_view.html">PlatformView</a> &gt; flutter::Shell::GetPlatformView </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Platform views may only be accessed on the platform task runner. </p>
<dl class="section return"><dt>Returns</dt><dd>A weak pointer to the platform view. </dd></dl>

<p class="definition">Definition at line <a class="el" href="shell_8cc_source.html#l00512">512</a> of file <a class="el" href="shell_8cc_source.html">shell.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;                                                {</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;  <a class="code" href="fml_2logging_8h.html#ad58edd71667fe83cb259639a7520f5d6">FML_DCHECK</a>(is_setup_);</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;  <span class="keywordflow">return</span> weak_platform_view_;</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="fml_2logging_8h_source.html#l00084">FML_DCHECK</a>.</p>

<p class="reference">Referenced by <a class="el" href="shell__test_8cc_source.html#l00080">flutter::testing::ShellTest::PlatformViewNotifyCreated()</a>, and <a class="el" href="shell__unittests_8cc_source.html#l00030">flutter::testing::ValidateShell()</a>.</p>

</div>
</div>
<a id="aed67697a9676eb7b461e4b567631f872"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aed67697a9676eb7b461e4b567631f872">&#9670;&nbsp;</a></span>GetRasterizer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfml_1_1_weak_ptr.html">fml::WeakPtr</a>&lt; <a class="el" href="classflutter_1_1_rasterizer.html">Rasterizer</a> &gt; flutter::Shell::GetRasterizer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Rasterizers may only be accessed on the GPU task runner. </p>
<dl class="section return"><dt>Returns</dt><dd>A weak pointer to the rasterizer. </dd></dl>

<p class="definition">Definition at line <a class="el" href="shell_8cc_source.html#l00498">498</a> of file <a class="el" href="shell_8cc_source.html">shell.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;                                            {</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;  <a class="code" href="fml_2logging_8h.html#ad58edd71667fe83cb259639a7520f5d6">FML_DCHECK</a>(is_setup_);</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;  <span class="keywordflow">return</span> weak_rasterizer_;</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="fml_2logging_8h_source.html#l00084">FML_DCHECK</a>.</p>

<p class="reference">Referenced by <a class="el" href="shell__unittests_8cc_source.html#l00604">flutter::testing::GetRasterizerResourceCacheBytesSync()</a>, and <a class="el" href="shell_8cc_source.html#l01315">Screenshot()</a>.</p>

</div>
</div>
<a id="a6e0f99613e4803a4a37fd4c3bd241de8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e0f99613e4803a4a37fd4c3bd241de8">&#9670;&nbsp;</a></span>GetSettings()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structflutter_1_1_settings.html">Settings</a> &amp; flutter::Shell::GetSettings </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>The settings used to launch this shell. </dd></dl>

<p class="definition">Definition at line <a class="el" href="shell_8cc_source.html#l00490">490</a> of file <a class="el" href="shell_8cc_source.html">shell.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;                                         {</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;  <span class="keywordflow">return</span> settings_;</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ac49eb6ca41c3ca300c9997af85d19396"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac49eb6ca41c3ca300c9997af85d19396">&#9670;&nbsp;</a></span>GetTaskRunners()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classflutter_1_1_task_runners.html">TaskRunners</a> &amp; flutter::Shell::GetTaskRunners </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>If callers wish to interact directly with any shell subcomponents, they must (on the platform thread) obtain a task runner that the component is designed to run on and a weak pointer to that component. They may then post a task to that task runner, do the validity check on that task runner before performing any operation on that component. This accessor allows callers to access the task runners for this shell. </p>
<dl class="section return"><dt>Returns</dt><dd>The task runners current in use by the shell. </dd></dl>

<p class="definition">Definition at line <a class="el" href="shell_8cc_source.html#l00494">494</a> of file <a class="el" href="shell_8cc_source.html">shell.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;                                               {</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;  <span class="keywordflow">return</span> task_runners_;</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="shell__test_8cc_source.html#l00177">flutter::testing::ShellTest::CreateShell()</a>, <a class="el" href="shell__unittests_8cc_source.html#l00604">flutter::testing::GetRasterizerResourceCacheBytesSync()</a>, <a class="el" href="embedder_8cc_source.html#l00125">InferOpenGLPlatformViewCreationCallback()</a>, <a class="el" href="embedder_8cc_source.html#l00217">InferSoftwarePlatformViewCreationCallback()</a>, <a class="el" href="shell__test_8cc_source.html#l00080">flutter::testing::ShellTest::PlatformViewNotifyCreated()</a>, <a class="el" href="shell__test_8cc_source.html#l00104">flutter::testing::ShellTest::PumpOneFrame()</a>, <a class="el" href="shell__test_8cc_source.html#l00090">flutter::testing::ShellTest::RunEngine()</a>, <a class="el" href="shell__test_8cc_source.html#l00025">flutter::testing::ShellTest::SendEnginePlatformMessage()</a>, <a class="el" href="shell__benchmarks_8cc_source.html#l00014">flutter::StartupAndShutdownShell()</a>, <a class="el" href="shell__unittests_8cc_source.html#l00109">flutter::testing::TEST_F()</a>, and <a class="el" href="shell__unittests_8cc_source.html#l00030">flutter::testing::ValidateShell()</a>.</p>

</div>
</div>
<a id="a18cf40762dbcf03f3cda5dac8fb155e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a18cf40762dbcf03f3cda5dac8fb155e7">&#9670;&nbsp;</a></span>GetUIIsolateLastError()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::optional&lt; <a class="el" href="namespaceflutter.html#a0b170dfc677b7df4d42a1144447b00a6">DartErrorCode</a> &gt; flutter::Shell::GetUIIsolateLastError </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Used by embedders to get the last error from the Dart UI Isolate, if one exists. </p>
<dl class="section return"><dt>Returns</dt><dd>Returns the last error code from the UI Isolate. </dd></dl>

<p class="definition">Definition at line <a class="el" href="shell_8cc_source.html#l00413">413</a> of file <a class="el" href="shell_8cc_source.html">shell.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;                                                              {</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;  <a class="code" href="fml_2logging_8h.html#ad58edd71667fe83cb259639a7520f5d6">FML_DCHECK</a>(is_setup_);</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;  <a class="code" href="fml_2logging_8h.html#ad58edd71667fe83cb259639a7520f5d6">FML_DCHECK</a>(task_runners_.<a class="code" href="classflutter_1_1_task_runners.html#aa67cc592c99865a41a9e5a70983be534">GetPlatformTaskRunner</a>()-&gt;<a class="code" href="classfml_1_1_task_runner.html#ac960ea15af1de58a634a588ded78ab38">RunsTasksOnCurrentThread</a>());</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160; </div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;  <span class="comment">// We&#39;re using the unique_ptr here because we&#39;re sure we&#39;re on the Platform</span></div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;  <span class="comment">// Thread and callers expect this to be synchronous.</span></div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;  <span class="keywordflow">if</span> (!engine_) {</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;    <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;  }</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;  <span class="keywordflow">switch</span> (engine_-&gt;GetUIIsolateLastError()) {</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    <span class="keywordflow">case</span> tonic::kCompilationErrorType:</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespaceflutter.html#a0b170dfc677b7df4d42a1144447b00a6a3a5a5dcf393afe6606d10bc4bc77b26e">DartErrorCode::CompilationError</a>;</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;    <span class="keywordflow">case</span> tonic::kApiErrorType:</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespaceflutter.html#a0b170dfc677b7df4d42a1144447b00a6a446b301ae7ed058b916bfc2a9b069c40">DartErrorCode::ApiError</a>;</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    <span class="keywordflow">case</span> tonic::kUnknownErrorType:</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespaceflutter.html#a0b170dfc677b7df4d42a1144447b00a6abfaef30f1c8011c5cefa38ae470fb7aa">DartErrorCode::UnknownError</a>;</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;    <span class="keywordflow">case</span> tonic::kNoError:</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespaceflutter.html#a0b170dfc677b7df4d42a1144447b00a6a70a47cae4eb221930f2663fd244369ea">DartErrorCode::NoError</a>;</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;  }</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespaceflutter.html#a0b170dfc677b7df4d42a1144447b00a6abfaef30f1c8011c5cefa38ae470fb7aa">DartErrorCode::UnknownError</a>;</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="namespaceflutter.html#a0b170dfc677b7df4d42a1144447b00a6a446b301ae7ed058b916bfc2a9b069c40">flutter::ApiError</a>, <a class="el" href="namespaceflutter.html#a0b170dfc677b7df4d42a1144447b00a6a3a5a5dcf393afe6606d10bc4bc77b26e">flutter::CompilationError</a>, <a class="el" href="fml_2logging_8h_source.html#l00084">FML_DCHECK</a>, <a class="el" href="task__runners_8cc_source.html#l00030">flutter::TaskRunners::GetPlatformTaskRunner()</a>, <a class="el" href="namespaceflutter.html#a0b170dfc677b7df4d42a1144447b00a6a70a47cae4eb221930f2663fd244369ea">flutter::NoError</a>, <a class="el" href="task__runner_8cc_source.html#l00041">fml::TaskRunner::RunsTasksOnCurrentThread()</a>, and <a class="el" href="namespaceflutter.html#a0b170dfc677b7df4d42a1144447b00a6abfaef30f1c8011c5cefa38ae470fb7aa">flutter::UnknownError</a>.</p>

<p class="reference">Referenced by <a class="el" href="tester__main_8cc_source.html#l00042">flutter::ScriptCompletionTaskObserver::DidProcessTask()</a>.</p>

</div>
</div>
<a id="ae6350f96b265cdda4928db0b5f0ce4d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae6350f96b265cdda4928db0b5f0ce4d6">&#9670;&nbsp;</a></span>IsSetup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool flutter::Shell::IsSetup </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Used by embedders to check if all shell subcomponents are initialized. It is the embedder's responsibility to make this call before accessing any other shell method. A shell that is not setup must be discarded and another one created with updated settings. </p>
<dl class="section return"><dt>Returns</dt><dd>Returns if the shell has been setup. Once set up, this does not change for the life-cycle of the shell. </dd></dl>

<p class="definition">Definition at line <a class="el" href="shell_8cc_source.html#l00447">447</a> of file <a class="el" href="shell_8cc_source.html">shell.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;                          {</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;  <span class="keywordflow">return</span> is_setup_;</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="shell__unittests_8cc_source.html#l00030">flutter::testing::ValidateShell()</a>.</p>

</div>
</div>
<a id="a717dd40c253d4fd2492cafb854da1402"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a717dd40c253d4fd2492cafb854da1402">&#9670;&nbsp;</a></span>NotifyLowMemoryWarning()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void flutter::Shell::NotifyLowMemoryWarning </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Used by embedders to notify that there is a low memory warning. The shell will attempt to purge caches. Current, only the rasterizer cache is purged. </p>

<p class="definition">Definition at line <a class="el" href="shell_8cc_source.html#l00363">363</a> of file <a class="el" href="shell_8cc_source.html">shell.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;                                         {</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;  task_runners_.<a class="code" href="classflutter_1_1_task_runners.html#a4ab7a4e7df66942a82bbc2f971f47bf8">GetGPUTaskRunner</a>()-&gt;<a class="code" href="classfml_1_1_task_runner.html#ad4bd692db8b8f31d4a436022fc93a00b">PostTask</a>(</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;      [rasterizer = rasterizer_-&gt;GetWeakPtr()]() {</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;        <span class="keywordflow">if</span> (rasterizer) {</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;          rasterizer-&gt;NotifyLowMemoryWarning();</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;        }</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;      });</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;  <span class="comment">// The IO Manager uses resource cache limits of 0, so it is not necessary</span></div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;  <span class="comment">// to purge them.</span></div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="task__runners_8cc_source.html#l00042">flutter::TaskRunners::GetGPUTaskRunner()</a>, and <a class="el" href="task__runner_8cc_source.html#l00023">fml::TaskRunner::PostTask()</a>.</p>

</div>
</div>
<a id="a55412e5c2e8215bee15f969a227613d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a55412e5c2e8215bee15f969a227613d0">&#9670;&nbsp;</a></span>RunEngine() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void flutter::Shell::RunEngine </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classflutter_1_1_run_configuration.html">RunConfiguration</a>&#160;</td>
          <td class="paramname"><em>run_configuration</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Starts an isolate for the given <a class="el" href="classflutter_1_1_run_configuration.html" title="Specifies all the configuration required by the runtime library to launch the root isolate....">RunConfiguration</a>. </p>

<p class="definition">Definition at line <a class="el" href="shell_8cc_source.html#l00374">374</a> of file <a class="el" href="shell_8cc_source.html">shell.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;                                                        {</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;  <a class="code" href="classflutter_1_1_shell.html#a55412e5c2e8215bee15f969a227613d0">RunEngine</a>(std::move(run_configuration), <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="shell__test_8cc_source.html#l00090">flutter::testing::ShellTest::RunEngine()</a>.</p>

</div>
</div>
<a id="a4917b376566b74966df4c3bbb26f58c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4917b376566b74966df4c3bbb26f58c5">&#9670;&nbsp;</a></span>RunEngine() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void flutter::Shell::RunEngine </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classflutter_1_1_run_configuration.html">RunConfiguration</a>&#160;</td>
          <td class="paramname"><em>run_configuration</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="builtin__libraries_8cc.html#a19857d81485b0aff5fca55723d48300e">std::function</a>&lt; void(<a class="el" href="classflutter_1_1_engine.html#ac0c442866f6cb745ef8f61e60f9404e6">Engine::RunStatus</a>)&gt;&#160;</td>
          <td class="paramname"><em>result_callback</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Starts an isolate for the given <a class="el" href="classflutter_1_1_run_configuration.html" title="Specifies all the configuration required by the runtime library to launch the root isolate....">RunConfiguration</a>. The result_callback will be called with the status of the operation. </p>

<p class="definition">Definition at line <a class="el" href="shell_8cc_source.html#l00378">378</a> of file <a class="el" href="shell_8cc_source.html">shell.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;                                                                          {</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;  <span class="keyword">auto</span> <a class="code" href="flutter__glfw_8cc.html#aede94e5895960e8807719a1a1abf9f43">result</a> = [platform_runner = task_runners_.<a class="code" href="classflutter_1_1_task_runners.html#aa67cc592c99865a41a9e5a70983be534">GetPlatformTaskRunner</a>(),</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;                 result_callback](<a class="code" href="classflutter_1_1_engine.html#ac0c442866f6cb745ef8f61e60f9404e6">Engine::RunStatus</a> run_result) {</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    <span class="keywordflow">if</span> (!result_callback) {</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    }</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    platform_runner-&gt;PostTask(</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;        [result_callback, run_result]() { result_callback(run_result); });</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;  };</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;  <a class="code" href="fml_2logging_8h.html#ad58edd71667fe83cb259639a7520f5d6">FML_DCHECK</a>(is_setup_);</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;  <a class="code" href="fml_2logging_8h.html#ad58edd71667fe83cb259639a7520f5d6">FML_DCHECK</a>(task_runners_.<a class="code" href="classflutter_1_1_task_runners.html#aa67cc592c99865a41a9e5a70983be534">GetPlatformTaskRunner</a>()-&gt;<a class="code" href="classfml_1_1_task_runner.html#ac960ea15af1de58a634a588ded78ab38">RunsTasksOnCurrentThread</a>());</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160; </div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;  <span class="keywordflow">if</span> (!weak_engine_) {</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    <a class="code" href="flutter__glfw_8cc.html#aede94e5895960e8807719a1a1abf9f43">result</a>(<a class="code" href="classflutter_1_1_engine.html#ac0c442866f6cb745ef8f61e60f9404e6ae139a585510a502bbf1841cf589f5086">Engine::RunStatus::Failure</a>);</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;  }</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;  <a class="code" href="classfml_1_1_task_runner.html#a44be86caff5e1629674023520860694d">fml::TaskRunner::RunNowOrPostTask</a>(</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;      task_runners_.<a class="code" href="classflutter_1_1_task_runners.html#a8fc61323e1128724eb69c79f96f67554">GetUITaskRunner</a>(),</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;      <a class="code" href="namespacefml.html#a213c50fa09ff5c6442fa871c3fc6a2d8">fml::MakeCopyable</a>(</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;          [run_configuration = std::move(run_configuration),</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;           weak_engine = weak_engine_, <a class="code" href="flutter__glfw_8cc.html#aede94e5895960e8807719a1a1abf9f43">result</a>]() <span class="keyword">mutable</span> {</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;            <span class="keywordflow">if</span> (!weak_engine) {</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;              <a class="code" href="fml_2logging_8h.html#a8c8aa0624b399a218f4a767e3feeef25">FML_LOG</a>(ERROR)</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;                  &lt;&lt; <span class="stringliteral">&quot;Could not launch engine with configuration - no engine.&quot;</span>;</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;              <a class="code" href="flutter__glfw_8cc.html#aede94e5895960e8807719a1a1abf9f43">result</a>(<a class="code" href="classflutter_1_1_engine.html#ac0c442866f6cb745ef8f61e60f9404e6ae139a585510a502bbf1841cf589f5086">Engine::RunStatus::Failure</a>);</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;              <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;            }</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;            <span class="keyword">auto</span> run_result = weak_engine-&gt;Run(std::move(run_configuration));</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;            <span class="keywordflow">if</span> (run_result == <a class="code" href="classflutter_1_1_engine.html#ac0c442866f6cb745ef8f61e60f9404e6ae139a585510a502bbf1841cf589f5086">flutter::Engine::RunStatus::Failure</a>) {</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;              <a class="code" href="fml_2logging_8h.html#a8c8aa0624b399a218f4a767e3feeef25">FML_LOG</a>(ERROR) &lt;&lt; <span class="stringliteral">&quot;Could not launch engine with configuration.&quot;</span>;</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;            }</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;            <a class="code" href="flutter__glfw_8cc.html#aede94e5895960e8807719a1a1abf9f43">result</a>(run_result);</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;          }));</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="classflutter_1_1_engine.html#ac0c442866f6cb745ef8f61e60f9404e6ae139a585510a502bbf1841cf589f5086">flutter::Engine::Failure</a>, <a class="el" href="fml_2logging_8h_source.html#l00084">FML_DCHECK</a>, <a class="el" href="fml_2logging_8h_source.html#l00063">FML_LOG</a>, <a class="el" href="task__runners_8cc_source.html#l00030">flutter::TaskRunners::GetPlatformTaskRunner()</a>, <a class="el" href="task__runners_8cc_source.html#l00034">flutter::TaskRunners::GetUITaskRunner()</a>, <a class="el" href="make__copyable_8h_source.html#l00057">fml::MakeCopyable()</a>, <a class="el" href="flutter__glfw_8cc_source.html#l00533">result</a>, <a class="el" href="task__runner_8cc_source.html#l00064">fml::TaskRunner::RunNowOrPostTask()</a>, and <a class="el" href="task__runner_8cc_source.html#l00041">fml::TaskRunner::RunsTasksOnCurrentThread()</a>.</p>

</div>
</div>
<a id="a36fae32d8e2b998514ad656decfd599d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a36fae32d8e2b998514ad656decfd599d">&#9670;&nbsp;</a></span>Screenshot()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structflutter_1_1_rasterizer_1_1_screenshot.html">Rasterizer::Screenshot</a> flutter::Shell::Screenshot </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classflutter_1_1_rasterizer.html#a46d7b0664ac7a4a645ad60e3f84fc285">Rasterizer::ScreenshotType</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>base64_encode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Captures a screenshot and optionally Base64 encodes the data of the last layer tree rendered by the rasterizer in this shell. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">type</td><td>The type of screenshot to capture. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">base64_encode</td><td>If the screenshot data should be base64 encoded.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The screenshot result. </dd></dl>

<p class="definition">Definition at line <a class="el" href="shell_8cc_source.html#l01315">1315</a> of file <a class="el" href="shell_8cc_source.html">shell.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;                        {</div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;  <a class="code" href="trace__event_8h.html#a3feabb76c0ac2918798bc11ab55c6a79">TRACE_EVENT0</a>(<span class="stringliteral">&quot;flutter&quot;</span>, <span class="stringliteral">&quot;Shell::Screenshot&quot;</span>);</div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;  <a class="code" href="classfml_1_1_auto_reset_waitable_event.html">fml::AutoResetWaitableEvent</a> latch;</div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;  Rasterizer::Screenshot screenshot;</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;  <a class="code" href="classfml_1_1_task_runner.html#a44be86caff5e1629674023520860694d">fml::TaskRunner::RunNowOrPostTask</a>(</div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;      task_runners_.<a class="code" href="classflutter_1_1_task_runners.html#a4ab7a4e7df66942a82bbc2f971f47bf8">GetGPUTaskRunner</a>(), [&amp;latch,                        <span class="comment">//</span></div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;                                         rasterizer = <a class="code" href="classflutter_1_1_shell.html#aed67697a9676eb7b461e4b567631f872">GetRasterizer</a>(),  <span class="comment">//</span></div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;                                         &amp;screenshot,                   <span class="comment">//</span></div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;                                         screenshot_type,               <span class="comment">//</span></div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;                                         base64_encode                  <span class="comment">//</span></div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;  ]() {</div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;        <span class="keywordflow">if</span> (rasterizer) {</div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;          screenshot = rasterizer-&gt;ScreenshotLastLayerTree(screenshot_type,</div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;                                                           base64_encode);</div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;        }</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;        latch.<a class="code" href="classfml_1_1_auto_reset_waitable_event.html#aa24e53a60b4f673204f521a0cfcb42f4">Signal</a>();</div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;      });</div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;  latch.<a class="code" href="classfml_1_1_auto_reset_waitable_event.html#a65a07c3fb27163394b67db237dbf928b">Wait</a>();</div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;  <span class="keywordflow">return</span> screenshot;</div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="task__runners_8cc_source.html#l00042">flutter::TaskRunners::GetGPUTaskRunner()</a>, <a class="el" href="shell_8cc_source.html#l00498">GetRasterizer()</a>, <a class="el" href="task__runner_8cc_source.html#l00064">fml::TaskRunner::RunNowOrPostTask()</a>, <a class="el" href="waitable__event_8cc_source.html#l00057">fml::AutoResetWaitableEvent::Signal()</a>, <a class="el" href="trace__event_8h_source.html#l00065">TRACE_EVENT0</a>, and <a class="el" href="waitable__event_8cc_source.html#l00068">fml::AutoResetWaitableEvent::Wait()</a>.</p>

</div>
</div>
<a id="a95d130a1a50f9576ecb80e1b97874d5a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a95d130a1a50f9576ecb80e1b97874d5a">&#9670;&nbsp;</a></span>WaitForFirstFrame()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfml_1_1_status.html">fml::Status</a> flutter::Shell::WaitForFirstFrame </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfml_1_1_time_delta.html">fml::TimeDelta</a>&#160;</td>
          <td class="paramname"><em>timeout</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pauses the calling thread until the first frame is presented. </p>
<dl class="section return"><dt>Returns</dt><dd>'kOk' when the first frame has been presented before the timeout successfully, 'kFailedPrecondition' if called from the GPU or UI thread, 'kDeadlineExceeded' if there is a timeout. </dd></dl>

<p class="definition">Definition at line <a class="el" href="shell_8cc_source.html#l01338">1338</a> of file <a class="el" href="shell_8cc_source.html">shell.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;                                                       {</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;  <a class="code" href="fml_2logging_8h.html#ad58edd71667fe83cb259639a7520f5d6">FML_DCHECK</a>(is_setup_);</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;  <span class="keywordflow">if</span> (task_runners_.<a class="code" href="classflutter_1_1_task_runners.html#a8fc61323e1128724eb69c79f96f67554">GetUITaskRunner</a>()-&gt;<a class="code" href="classfml_1_1_task_runner.html#ac960ea15af1de58a634a588ded78ab38">RunsTasksOnCurrentThread</a>() ||</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;      task_runners_.<a class="code" href="classflutter_1_1_task_runners.html#a4ab7a4e7df66942a82bbc2f971f47bf8">GetGPUTaskRunner</a>()-&gt;<a class="code" href="classfml_1_1_task_runner.html#ac960ea15af1de58a634a588ded78ab38">RunsTasksOnCurrentThread</a>()) {</div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classfml_1_1_status.html">fml::Status</a>(<a class="code" href="namespacefml.html#ac09a7bda2c1d504acbf6f41e3a21f68da17f82936b75ec2c8d1665298cadde372">fml::StatusCode::kFailedPrecondition</a>,</div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;                       <span class="stringliteral">&quot;WaitForFirstFrame called from thread that can&#39;t wait &quot;</span></div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;                       <span class="stringliteral">&quot;because it is responsible for generating the frame.&quot;</span>);</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;  }</div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160; </div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;  std::unique_lock&lt;std::mutex&gt; lock(waiting_for_first_frame_mutex_);</div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;  <span class="keywordtype">bool</span> success = waiting_for_first_frame_condition_.wait_for(</div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;      lock, std::chrono::milliseconds(timeout.<a class="code" href="classfml_1_1_time_delta.html#a8ce752ea525136b9a4ee751c475a5d2b">ToMilliseconds</a>()),</div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;      [&amp; waiting_for_first_frame = waiting_for_first_frame_] {</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;        <span class="keywordflow">return</span> !waiting_for_first_frame.load();</div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;      });</div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;  <span class="keywordflow">if</span> (success) {</div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classfml_1_1_status.html">fml::Status</a>();</div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classfml_1_1_status.html">fml::Status</a>(<a class="code" href="namespacefml.html#ac09a7bda2c1d504acbf6f41e3a21f68da4d40d05ef9a0c7b22fb80d1bbf8a72df">fml::StatusCode::kDeadlineExceeded</a>, <span class="stringliteral">&quot;timeout&quot;</span>);</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;  }</div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="fml_2logging_8h_source.html#l00084">FML_DCHECK</a>, <a class="el" href="task__runners_8cc_source.html#l00042">flutter::TaskRunners::GetGPUTaskRunner()</a>, <a class="el" href="task__runners_8cc_source.html#l00034">flutter::TaskRunners::GetUITaskRunner()</a>, <a class="el" href="namespacefml.html#ac09a7bda2c1d504acbf6f41e3a21f68da4d40d05ef9a0c7b22fb80d1bbf8a72df">fml::kDeadlineExceeded</a>, <a class="el" href="namespacefml.html#ac09a7bda2c1d504acbf6f41e3a21f68da17f82936b75ec2c8d1665298cadde372">fml::kFailedPrecondition</a>, <a class="el" href="task__runner_8cc_source.html#l00041">fml::TaskRunner::RunsTasksOnCurrentThread()</a>, and <a class="el" href="time__delta_8h_source.html#l00060">fml::TimeDelta::ToMilliseconds()</a>.</p>

</div>
</div>
<h2 class="groupheader">Friends And Related Function Documentation</h2>
<a id="a817de7af913085686836036754477d5e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a817de7af913085686836036754477d5e">&#9670;&nbsp;</a></span>testing::ShellTest</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">friend class <a class="el" href="classflutter_1_1testing_1_1_shell_test.html">testing::ShellTest</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="shell_8h_source.html#l00510">510</a> of file <a class="el" href="shell_8h_source.html">shell.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>shell/common/<a class="el" href="shell_8h_source.html">shell.h</a></li>
<li>shell/common/<a class="el" href="shell_8cc_source.html">shell.cc</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<div class="ttc" id="aclassflutter_1_1_shell_html_aed67697a9676eb7b461e4b567631f872"><div class="ttname"><a href="classflutter_1_1_shell.html#aed67697a9676eb7b461e4b567631f872">flutter::Shell::GetRasterizer</a></div><div class="ttdeci">fml::WeakPtr&lt; Rasterizer &gt; GetRasterizer()</div><div class="ttdoc">Rasterizers may only be accessed on the GPU task runner.</div><div class="ttdef"><b>Definition:</b> <a href="shell_8cc_source.html#l00498">shell.cc:498</a></div></div>
<div class="ttc" id="aclassflutter_1_1_task_runners_html_a8fc61323e1128724eb69c79f96f67554"><div class="ttname"><a href="classflutter_1_1_task_runners.html#a8fc61323e1128724eb69c79f96f67554">flutter::TaskRunners::GetUITaskRunner</a></div><div class="ttdeci">fml::RefPtr&lt; fml::TaskRunner &gt; GetUITaskRunner() const</div><div class="ttdef"><b>Definition:</b> <a href="task__runners_8cc_source.html#l00034">task_runners.cc:34</a></div></div>
<div class="ttc" id="aclassfml_1_1_auto_reset_waitable_event_html"><div class="ttname"><a href="classfml_1_1_auto_reset_waitable_event.html">fml::AutoResetWaitableEvent</a></div><div class="ttdef"><b>Definition:</b> <a href="waitable__event_8h_source.html#l00029">waitable_event.h:29</a></div></div>
<div class="ttc" id="aclassfml_1_1_task_runner_html_ac960ea15af1de58a634a588ded78ab38"><div class="ttname"><a href="classfml_1_1_task_runner.html#ac960ea15af1de58a634a588ded78ab38">fml::TaskRunner::RunsTasksOnCurrentThread</a></div><div class="ttdeci">virtual bool RunsTasksOnCurrentThread()</div><div class="ttdef"><b>Definition:</b> <a href="task__runner_8cc_source.html#l00041">task_runner.cc:41</a></div></div>
<div class="ttc" id="aclassflutter_1_1_dart_v_m_html_ae3b4e57839e82d373927d54e3164e22a"><div class="ttname"><a href="classflutter_1_1_dart_v_m.html#ae3b4e57839e82d373927d54e3164e22a">flutter::DartVM::GetServiceProtocol</a></div><div class="ttdeci">std::shared_ptr&lt; ServiceProtocol &gt; GetServiceProtocol() const</div><div class="ttdef"><b>Definition:</b> <a href="dart__vm_8cc_source.html#l00478">dart_vm.cc:478</a></div></div>
<div class="ttc" id="aclassfml_1_1_task_runner_html_a44be86caff5e1629674023520860694d"><div class="ttname"><a href="classfml_1_1_task_runner.html#a44be86caff5e1629674023520860694d">fml::TaskRunner::RunNowOrPostTask</a></div><div class="ttdeci">static void RunNowOrPostTask(fml::RefPtr&lt; fml::TaskRunner &gt; runner, fml::closure task)</div><div class="ttdef"><b>Definition:</b> <a href="task__runner_8cc_source.html#l00064">task_runner.cc:64</a></div></div>
<div class="ttc" id="aclassflutter_1_1_task_runners_html_a9cd4e585b8178824252ae010c7087f0a"><div class="ttname"><a href="classflutter_1_1_task_runners.html#a9cd4e585b8178824252ae010c7087f0a">flutter::TaskRunners::GetIOTaskRunner</a></div><div class="ttdeci">fml::RefPtr&lt; fml::TaskRunner &gt; GetIOTaskRunner() const</div><div class="ttdef"><b>Definition:</b> <a href="task__runners_8cc_source.html#l00038">task_runners.cc:38</a></div></div>
<div class="ttc" id="aclassflutter_1_1_engine_html_ac0c442866f6cb745ef8f61e60f9404e6"><div class="ttname"><a href="classflutter_1_1_engine.html#ac0c442866f6cb745ef8f61e60f9404e6">flutter::Engine::RunStatus</a></div><div class="ttdeci">RunStatus</div><div class="ttdoc">Indicates the result of the call to Engine::Run.</div><div class="ttdef"><b>Definition:</b> <a href="common_2engine_8h_source.html#l00073">engine.h:73</a></div></div>
<div class="ttc" id="aclassflutter_1_1_dart_v_m_ref_html_a28b0d8ae26fb5a64de6ce7cbe4725d15"><div class="ttname"><a href="classflutter_1_1_dart_v_m_ref.html#a28b0d8ae26fb5a64de6ce7cbe4725d15">flutter::DartVMRef::Create</a></div><div class="ttdeci">static FML_WARN_UNUSED_RESULT DartVMRef Create(Settings settings, fml::RefPtr&lt; DartSnapshot &gt; vm_snapshot=nullptr, fml::RefPtr&lt; DartSnapshot &gt; isolate_snapshot=nullptr, fml::RefPtr&lt; DartSnapshot &gt; shared_snapshot=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="dart__vm__lifecycle_8cc_source.html#l00047">dart_vm_lifecycle.cc:47</a></div></div>
<div class="ttc" id="aclassflutter_1_1_persistent_cache_html_a8a8ad9f5667090fb8b8cd0dd64224c0b"><div class="ttname"><a href="classflutter_1_1_persistent_cache.html#a8a8ad9f5667090fb8b8cd0dd64224c0b">flutter::PersistentCache::GetCacheForProcess</a></div><div class="ttdeci">static PersistentCache * GetCacheForProcess()</div><div class="ttdef"><b>Definition:</b> <a href="persistent__cache_8cc_source.html#l00042">persistent_cache.cc:42</a></div></div>
<div class="ttc" id="aclassflutter_1_1_shell_html_a55412e5c2e8215bee15f969a227613d0"><div class="ttname"><a href="classflutter_1_1_shell.html#a55412e5c2e8215bee15f969a227613d0">flutter::Shell::RunEngine</a></div><div class="ttdeci">void RunEngine(RunConfiguration run_configuration)</div><div class="ttdoc">Starts an isolate for the given RunConfiguration.</div><div class="ttdef"><b>Definition:</b> <a href="shell_8cc_source.html#l00374">shell.cc:374</a></div></div>
<div class="ttc" id="aflutter__glfw_8cc_html_aede94e5895960e8807719a1a1abf9f43"><div class="ttname"><a href="flutter__glfw_8cc.html#aede94e5895960e8807719a1a1abf9f43">result</a></div><div class="ttdeci">auto result</div><div class="ttdef"><b>Definition:</b> <a href="flutter__glfw_8cc_source.html#l00533">flutter_glfw.cc:533</a></div></div>
<div class="ttc" id="aclassfml_1_1_status_html"><div class="ttname"><a href="classfml_1_1_status.html">fml::Status</a></div><div class="ttdef"><b>Definition:</b> <a href="status_8h_source.html#l00035">status.h:35</a></div></div>
<div class="ttc" id="aclassflutter_1_1_task_runners_html_a4ab7a4e7df66942a82bbc2f971f47bf8"><div class="ttname"><a href="classflutter_1_1_task_runners.html#a4ab7a4e7df66942a82bbc2f971f47bf8">flutter::TaskRunners::GetGPUTaskRunner</a></div><div class="ttdeci">fml::RefPtr&lt; fml::TaskRunner &gt; GetGPUTaskRunner() const</div><div class="ttdef"><b>Definition:</b> <a href="task__runners_8cc_source.html#l00042">task_runners.cc:42</a></div></div>
<div class="ttc" id="afml_2logging_8h_html_aa12716eba45f97fb40adaeba177ba8bd"><div class="ttname"><a href="fml_2logging_8h.html#aa12716eba45f97fb40adaeba177ba8bd">FML_CHECK</a></div><div class="ttdeci">#define FML_CHECK(condition)</div><div class="ttdef"><b>Definition:</b> <a href="fml_2logging_8h_source.html#l00066">logging.h:66</a></div></div>
<div class="ttc" id="aclassflutter_1_1_shell_html_ad383227ef5dced1921307bd0c94b790f"><div class="ttname"><a href="classflutter_1_1_shell.html#ad383227ef5dced1921307bd0c94b790f">flutter::Shell::Create</a></div><div class="ttdeci">static std::unique_ptr&lt; Shell &gt; Create(TaskRunners task_runners, Settings settings, CreateCallback&lt; PlatformView &gt; on_create_platform_view, CreateCallback&lt; Rasterizer &gt; on_create_rasterizer)</div><div class="ttdoc">Creates a shell instance using the provided settings. The callbacks to create the various shell subco...</div><div class="ttdef"><b>Definition:</b> <a href="shell_8cc_source.html#l00202">shell.cc:202</a></div></div>
<div class="ttc" id="aclassfml_1_1_auto_reset_waitable_event_html_a65a07c3fb27163394b67db237dbf928b"><div class="ttname"><a href="classfml_1_1_auto_reset_waitable_event.html#a65a07c3fb27163394b67db237dbf928b">fml::AutoResetWaitableEvent::Wait</a></div><div class="ttdeci">void Wait()</div><div class="ttdef"><b>Definition:</b> <a href="waitable__event_8cc_source.html#l00068">waitable_event.cc:68</a></div></div>
<div class="ttc" id="aflutter__glfw_8cc_html_aa7c201313a13a24d299847c99a8ef0f5"><div class="ttname"><a href="flutter__glfw_8cc.html#aa7c201313a13a24d299847c99a8ef0f5">engine</a></div><div class="ttdeci">return engine</div><div class="ttdef"><b>Definition:</b> <a href="flutter__glfw_8cc_source.html#l00540">flutter_glfw.cc:540</a></div></div>
<div class="ttc" id="aclassflutter_1_1_engine_html_ac0c442866f6cb745ef8f61e60f9404e6ae139a585510a502bbf1841cf589f5086"><div class="ttname"><a href="classflutter_1_1_engine.html#ac0c442866f6cb745ef8f61e60f9404e6ae139a585510a502bbf1841cf589f5086">flutter::Engine::RunStatus::Failure</a></div></div>
<div class="ttc" id="aclassfml_1_1_time_delta_html_a8ce752ea525136b9a4ee751c475a5d2b"><div class="ttname"><a href="classfml_1_1_time_delta.html#a8ce752ea525136b9a4ee751c475a5d2b">fml::TimeDelta::ToMilliseconds</a></div><div class="ttdeci">constexpr int64_t ToMilliseconds() const</div><div class="ttdef"><b>Definition:</b> <a href="time__delta_8h_source.html#l00060">time_delta.h:60</a></div></div>
<div class="ttc" id="afml_2logging_8h_html_ad58edd71667fe83cb259639a7520f5d6"><div class="ttname"><a href="fml_2logging_8h.html#ad58edd71667fe83cb259639a7520f5d6">FML_DCHECK</a></div><div class="ttdeci">#define FML_DCHECK(condition)</div><div class="ttdef"><b>Definition:</b> <a href="fml_2logging_8h_source.html#l00084">logging.h:84</a></div></div>
<div class="ttc" id="anamespaceflutter_html_a0b170dfc677b7df4d42a1144447b00a6a70a47cae4eb221930f2663fd244369ea"><div class="ttname"><a href="namespaceflutter.html#a0b170dfc677b7df4d42a1144447b00a6a70a47cae4eb221930f2663fd244369ea">flutter::DartErrorCode::NoError</a></div><div class="ttdoc">No error has occurred.</div></div>
<div class="ttc" id="aclassfml_1_1_auto_reset_waitable_event_html_aa24e53a60b4f673204f521a0cfcb42f4"><div class="ttname"><a href="classfml_1_1_auto_reset_waitable_event.html#aa24e53a60b4f673204f521a0cfcb42f4">fml::AutoResetWaitableEvent::Signal</a></div><div class="ttdeci">void Signal()</div><div class="ttdef"><b>Definition:</b> <a href="waitable__event_8cc_source.html#l00057">waitable_event.cc:57</a></div></div>
<div class="ttc" id="aclassflutter_1_1_task_runners_html_aa67cc592c99865a41a9e5a70983be534"><div class="ttname"><a href="classflutter_1_1_task_runners.html#aa67cc592c99865a41a9e5a70983be534">flutter::TaskRunners::GetPlatformTaskRunner</a></div><div class="ttdeci">fml::RefPtr&lt; fml::TaskRunner &gt; GetPlatformTaskRunner() const</div><div class="ttdef"><b>Definition:</b> <a href="task__runners_8cc_source.html#l00030">task_runners.cc:30</a></div></div>
<div class="ttc" id="aclassflutter_1_1_dart_snapshot_html_a1640c241a1b503134fe95176d24b88f2"><div class="ttname"><a href="classflutter_1_1_dart_snapshot.html#a1640c241a1b503134fe95176d24b88f2">flutter::DartSnapshot::Empty</a></div><div class="ttdeci">static fml::RefPtr&lt; DartSnapshot &gt; Empty()</div><div class="ttdef"><b>Definition:</b> <a href="dart__snapshot_8cc_source.html#l00183">dart_snapshot.cc:183</a></div></div>
<div class="ttc" id="anamespaceflutter_html_a0b170dfc677b7df4d42a1144447b00a6a446b301ae7ed058b916bfc2a9b069c40"><div class="ttname"><a href="namespaceflutter.html#a0b170dfc677b7df4d42a1144447b00a6a446b301ae7ed058b916bfc2a9b069c40">flutter::DartErrorCode::ApiError</a></div><div class="ttdoc">The Dart error code for an API error.</div></div>
<div class="ttc" id="aclassfml_1_1_task_runner_html_ad4bd692db8b8f31d4a436022fc93a00b"><div class="ttname"><a href="classfml_1_1_task_runner.html#ad4bd692db8b8f31d4a436022fc93a00b">fml::TaskRunner::PostTask</a></div><div class="ttdeci">virtual void PostTask(fml::closure task)</div><div class="ttdef"><b>Definition:</b> <a href="task__runner_8cc_source.html#l00023">task_runner.cc:23</a></div></div>
<div class="ttc" id="afml_2logging_8h_html_a8c8aa0624b399a218f4a767e3feeef25"><div class="ttname"><a href="fml_2logging_8h.html#a8c8aa0624b399a218f4a767e3feeef25">FML_LOG</a></div><div class="ttdeci">#define FML_LOG(severity)</div><div class="ttdef"><b>Definition:</b> <a href="fml_2logging_8h_source.html#l00063">logging.h:63</a></div></div>
<div class="ttc" id="atrace__event_8h_html_a3feabb76c0ac2918798bc11ab55c6a79"><div class="ttname"><a href="trace__event_8h.html#a3feabb76c0ac2918798bc11ab55c6a79">TRACE_EVENT0</a></div><div class="ttdeci">#define TRACE_EVENT0(category_group, name)</div><div class="ttdef"><b>Definition:</b> <a href="trace__event_8h_source.html#l00065">trace_event.h:65</a></div></div>
<div class="ttc" id="anamespacefml_html_ac09a7bda2c1d504acbf6f41e3a21f68da17f82936b75ec2c8d1665298cadde372"><div class="ttname"><a href="namespacefml.html#ac09a7bda2c1d504acbf6f41e3a21f68da17f82936b75ec2c8d1665298cadde372">fml::StatusCode::kFailedPrecondition</a></div></div>
<div class="ttc" id="anamespacefml_html_ac09a7bda2c1d504acbf6f41e3a21f68da4d40d05ef9a0c7b22fb80d1bbf8a72df"><div class="ttname"><a href="namespacefml.html#ac09a7bda2c1d504acbf6f41e3a21f68da4d40d05ef9a0c7b22fb80d1bbf8a72df">fml::StatusCode::kDeadlineExceeded</a></div></div>
<div class="ttc" id="anamespacefml_html_a213c50fa09ff5c6442fa871c3fc6a2d8"><div class="ttname"><a href="namespacefml.html#a213c50fa09ff5c6442fa871c3fc6a2d8">fml::MakeCopyable</a></div><div class="ttdeci">internal::CopyableLambda&lt; T &gt; MakeCopyable(T lambda)</div><div class="ttdef"><b>Definition:</b> <a href="make__copyable_8h_source.html#l00057">make_copyable.h:57</a></div></div>
<div class="ttc" id="anamespaceflutter_html_ad85ef2a4acc093008514f2215d947f14"><div class="ttname"><a href="namespaceflutter.html#ad85ef2a4acc093008514f2215d947f14">flutter::PerformInitializationTasks</a></div><div class="ttdeci">static void PerformInitializationTasks(const Settings &amp;settings)</div><div class="ttdef"><b>Definition:</b> <a href="shell_8cc_source.html#l00165">shell.cc:165</a></div></div>
<div class="ttc" id="anamespaceflutter_html_a0b170dfc677b7df4d42a1144447b00a6a3a5a5dcf393afe6606d10bc4bc77b26e"><div class="ttname"><a href="namespaceflutter.html#a0b170dfc677b7df4d42a1144447b00a6a3a5a5dcf393afe6606d10bc4bc77b26e">flutter::DartErrorCode::CompilationError</a></div><div class="ttdoc">The Dart error code for a compilation error.</div></div>
<div class="ttc" id="anamespaceflutter_html_a0b170dfc677b7df4d42a1144447b00a6abfaef30f1c8011c5cefa38ae470fb7aa"><div class="ttname"><a href="namespaceflutter.html#a0b170dfc677b7df4d42a1144447b00a6abfaef30f1c8011c5cefa38ae470fb7aa">flutter::DartErrorCode::UnknownError</a></div><div class="ttdoc">The Dart error code for an unkonwn error.</div></div>
<div class="ttc" id="aclassflutter_1_1_persistent_cache_html_ad274e5b81d73d790919d1cb2559b5903"><div class="ttname"><a href="classflutter_1_1_persistent_cache.html#ad274e5b81d73d790919d1cb2559b5903">flutter::PersistentCache::RemoveWorkerTaskRunner</a></div><div class="ttdeci">void RemoveWorkerTaskRunner(fml::RefPtr&lt; fml::TaskRunner &gt; task_runner)</div><div class="ttdef"><b>Definition:</b> <a href="persistent__cache_8cc_source.html#l00200">persistent_cache.cc:200</a></div></div>
<!-- HTML footer for doxygen 1.8.15-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceflutter.html">flutter</a></li><li class="navelem"><a class="el" href="classflutter_1_1_shell.html">Shell</a></li>
    <li class="footer">Generated on Mon Sep 2 2019 12:57:49 for Flutter Engine by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.16 </li>
  </ul>
</div>
</body>
</html>
